<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.bluexiii.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="IT技术类文章、笔记分享">
<meta property="og:type" content="website">
<meta property="og:title" content="BlueXIII&#39;s Blog">
<meta property="og:url" content="http://blog.bluexiii.com/page/13/index.html">
<meta property="og:site_name" content="BlueXIII&#39;s Blog">
<meta property="og:description" content="IT技术类文章、笔记分享">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="BlueXIII">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://blog.bluexiii.com/page/13/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>BlueXIII's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">BlueXIII's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">热爱技术,持续学习</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201706/%E9%81%97%E7%95%99%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8Resty%E7%AE%80%E5%8C%96REST%E8%B0%83%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201706/%E9%81%97%E7%95%99%E9%A1%B9%E7%9B%AE%E4%B8%AD%E4%BD%BF%E7%94%A8Resty%E7%AE%80%E5%8C%96REST%E8%B0%83%E7%94%A8/" class="post-title-link" itemprop="url">在遗留工程中使用Resty简化REST调用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-06-08 15:34:57" itemprop="dateCreated datePublished" datetime="2017-06-08T15:34:57+08:00">2017-06-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:44:09" itemprop="dateModified" datetime="2018-11-06T15:44:09+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Spring3.0以下的遗留工程，由于无法使用RestTemplate，所以调用REST接口时会比较繁琐。<br>通过使用第三方REST户端框架Resty，可以大幅简化调用过程。<br>Resty的优势是使用简单，不需要引入过多的依赖。但相比于resttemplate/jersey/resteasy等，Resty还是过于小众，而且已有2年时间没有维护，异常处理也不是很完善。所以只建议在老旧项目中使用。<br>本文演示了Resty各种用法，包括代理设置、Header设置等。  </p>
<h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h2><p>对于较老的项目，直接下载并添加resty-0.3.2.jar</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://repo1.maven.org/maven2/us/monoid/web/resty/0.3.2/resty-0.3.2.jar</span><br></pre></td></tr></table></figure>
<p>如果项目使用了maven或gradle，直接添加依赖即可</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>us.monoid.web<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>resty<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#x27;us.monoid.web:resty:0.3.2&#x27;</span><br></pre></td></tr></table></figure>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><p>初始化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String baseUrl = <span class="string">&quot;http://127.0.0.1:8080/foobar&quot;</span>;</span><br><span class="line">Resty resty = <span class="keyword">new</span> Resty();</span><br></pre></td></tr></table></figure>
<p>设置代理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resty.setProxy(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br></pre></td></tr></table></figure>
<p>设置token</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">resty.setOptions(<span class="keyword">new</span> Resty.Option() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(URLConnection aConnection)</span> </span>&#123;</span><br><span class="line">        aConnection.setRequestProperty(<span class="string">&quot;Authorization&quot;</span>, <span class="string">&quot;Bearer foobarboobarfoobar&quot;</span>);</span><br><span class="line">        <span class="keyword">super</span>.apply(aConnection);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>GET 查询</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String restUrl = baseUrl + <span class="string">&quot;/users/4038488549360733&quot;</span>;</span><br><span class="line">JSONObject jsonObject = resty.json(restUrl).object();</span><br><span class="line">String serialNumber = jsonObject.getString(<span class="string">&quot;serialNumber&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>PUT 修改</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String restUrl = baseUrl + <span class="string">&quot;/users/4038488549360733&quot;</span>;</span><br><span class="line">String jsonStr = <span class="string">&quot;&#123;\&quot;brandCode\&quot;:\&quot;3G02\&quot;&#125;&quot;</span>;</span><br><span class="line">resty.json(restUrl, Resty.put(<span class="keyword">new</span> Content(<span class="string">&quot;application/json&quot;</span>, jsonStr.getBytes())));</span><br></pre></td></tr></table></figure>
<p>POST 新增</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String restUrl = baseUrl + <span class="string">&quot;/users&quot;</span>;</span><br><span class="line">String jsonStr = <span class="string">&quot;&#123;\&quot;brandCode\&quot;:\&quot;3G03\&quot;&#125;&quot;</span>;</span><br><span class="line">resty.json(restUrl, <span class="keyword">new</span> Content(<span class="string">&quot;application/json&quot;</span>, jsonStr.getBytes()));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>DELETE 删除</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String restUrl = baseUrl + <span class="string">&quot;/users/4038488549360733&quot;</span>;</span><br><span class="line">resty.json(restUrl, Resty.delete());</span><br></pre></td></tr></table></figure>
<p>综合示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">String serialNumber = <span class="string">&quot;12345678&quot;</span>;</span><br><span class="line">String restUrl;</span><br><span class="line">JSONObject jsonObject;</span><br><span class="line">JSONArray jsonArray;</span><br><span class="line">String itemId = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 查询用户信息，通过serialNumber取到userId</span></span><br><span class="line">    restUrl = baseUrl + <span class="string">&quot;/users?serialNumber=&quot;</span> + serialNumber;</span><br><span class="line">    jsonObject = resty.json(restUrl).object();</span><br><span class="line">    System.out.println(jsonObject);</span><br><span class="line">    String userId = jsonObject.getString(<span class="string">&quot;userId&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 查询资费信息，通过userId取到所有资费</span></span><br><span class="line">    restUrl = baseUrl + <span class="string">&quot;/discnts?userId=&quot;</span> + userId;</span><br><span class="line">    jsonArray = resty.json(restUrl).array();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; jsonArray.length(); i++) &#123;</span><br><span class="line">        jsonObject = jsonArray.getJSONObject(i);</span><br><span class="line">        System.out.println(jsonObject);</span><br><span class="line">        <span class="comment">// 随机取一个itemId</span></span><br><span class="line">        itemId = jsonObject.getString(<span class="string">&quot;itemId&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 更改资费信息，通过itemId修改资费信息</span></span><br><span class="line">    restUrl = baseUrl + <span class="string">&quot;/discnts/&quot;</span> + itemId;</span><br><span class="line">    String jsonStr = <span class="string">&quot;&#123;\&quot;startDate\&quot;:\&quot;2001-01-01 20:01:02\&quot;, \&quot;endDate\&quot;:\&quot;2018-05-08 20:01:02\&quot;&#125;&quot;</span>;</span><br><span class="line">    resty.json(restUrl, Resty.put(<span class="keyword">new</span> Content(<span class="string">&quot;application/json&quot;</span>, jsonStr.getBytes())));</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><p><a target="_blank" rel="noopener" href="https://github.com/beders/Resty">https://github.com/beders/Resty</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/python%E4%BD%BF%E7%94%A8cx_Oracle%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%9D%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/python%E4%BD%BF%E7%94%A8cx_Oracle%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%9D%91/" class="post-title-link" itemprop="url">Python使用cx_Oracle的几个小坑</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-27 17:07:29" itemprop="dateCreated datePublished" datetime="2017-04-27T17:07:29+08:00">2017-04-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-07-31 08:56:53" itemprop="dateModified" datetime="2019-07-31T08:56:53+08:00">2019-07-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>cx_Oracle是Python环境下的一个（好像也是唯一的一个）用于操作Oracle的第三方模块。<br>最近在写某个对帐程序时，不得已要连接一台Oracle库，于是用到了cx_Oracle，总的来说还是比较顺利的，期间遇到几个有意思的小坑写出来分享一下。</p>
<h2 id="RHEL-6-4下安装cx-Oracle"><a href="#RHEL-6-4下安装cx-Oracle" class="headerlink" title="RHEL 6.4下安装cx_Oracle"></a>RHEL 6.4下安装cx_Oracle</h2><p>RHEL6.4和cx_Oracle比较搭，安装时应该不会遇到什么挫折，使用RPM安装好instantclient后，直接用pip3安装cx_Oracle即可。</p>
<p>需要注意地方：</p>
<ol>
<li>尽量使用RPM方式安装instantclient，安装更方便，而且比zip更好管理。  </li>
<li>instantclient的版本选择的是11.2.0.4.0，没有选择12。对于Oracle/WebLogic这类闭源的东西，还是选择次最新版本的比较稳妥。  </li>
</ol>
<p>安装步骤：</p>
<ol>
<li><p>下载Linux版本的instantclient<br>这里是 <a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/cn/database/features/instant-client/index-097480.html">Oracle官网 instantclient下载页面</a> ，下载以下3个RPM包：<br>oracle-instantclient11.2-basic-11.2.0.4.0-1.x86_64.rpm<br>oracle-instantclient11.2-devel-11.2.0.4.0-1.x86_64.rpm<br>oracle-instantclient11.2-sqlplus-11.2.0.4.0-1.x86_64.rpm  </p>
</li>
<li><p>安装instantclient并设置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install libaio bc flex</span><br><span class="line">rpm -ivh oracle-instantclient11.2-basic-11.2.0.4.0-1.x86_64.rpm</span><br><span class="line">rpm -ivh oracle-instantclient11.2-devel-11.2.0.4.0-1.x86_64.rpm</span><br><span class="line">rpm -ivh oracle-instantclient11.2-sqlplus-11.2.0.4.0-1.x86_64.rpm</span><br></pre></td></tr></table></figure></li>
<li><p>设置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;export ORACLE_VERSION&#x3D;&quot;11.2&quot;&#39; &gt;&gt; $HOME&#x2F;.bashrc</span><br><span class="line">echo &#39;export ORACLE_HOME&#x3D;&quot;&#x2F;usr&#x2F;lib&#x2F;oracle&#x2F;$ORACLE_VERSION&#x2F;client64&#x2F;&quot;&#39; &gt;&gt; $HOME&#x2F;.bashrc</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:&quot;$ORACLE_HOME&#x2F;bin&quot;&#39; &gt;&gt; $HOME&#x2F;.bashrc</span><br><span class="line">echo &#39;export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&quot;$ORACLE_HOME&#x2F;lib&quot;&#39; &gt;&gt; $HOME&#x2F;.bashrc</span><br><span class="line">source $HOME&#x2F;.bashrc</span><br></pre></td></tr></table></figure></li>
<li><p>使用pip安装cx_Oracle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install cx_Oracle</span><br></pre></td></tr></table></figure>
<h2 id="macOS-12下安装cx-Oracle"><a href="#macOS-12下安装cx-Oracle" class="headerlink" title="macOS 12下安装cx_Oracle"></a>macOS 12下安装cx_Oracle</h2><p>macOS下，安装cx_Oracle后的编译过程有可能会报错，一般是因为instantclient安装有误造成的。</p>
</li>
</ol>
<p>需要注意的地方：</p>
<ol>
<li>mac下的instantclient只有zip包一种安装方式，要注意手工建两个软链接。  </li>
<li>pip安装前，注意导入LD_LIBRARY_PATH与DYLD_LIBRARY_PATH两个环境变量。  </li>
</ol>
<p>安装过程：</p>
<ol>
<li><p>下载Mac版本的instantclient<br>下载以下3个zip包，并<code>unzip</code>解压至同一目录：<br>instantclient-basic-macos.x64-11.2.0.4.0.zip<br>instantclient-sdk-macos.x64-11.2.0.4.0.zip<br>instantclient-sqlplus-macos.x64-11.2.0.4.0.zip</p>
</li>
<li><p>建立软链接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;path&#x2F;to&#x2F;instant</span><br><span class="line">ln -s libclntsh.dylib.11.2 libclntsh.dylib</span><br><span class="line">ln -s libocci.dylib.11.2 libocci.dylib</span><br></pre></td></tr></table></figure></li>
<li><p>设置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export ORACLE_VERSION&#x3D;&quot;11.2&quot;</span><br><span class="line">export ORACLE_HOME&#x3D;&quot;&#x2F;path&#x2F;to&#x2F;instantclient_11_2&quot;</span><br><span class="line">export PATH&#x3D;$PATH:&quot;$ORACLE_HOME&quot;</span><br></pre></td></tr></table></figure></li>
<li><p>使用pip安装cx_Oracle，注意提前导入DYLD_LIBRARY_PATH与LD_LIBRARY_PATH</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export DYLD_LIBRARY_PATH&#x3D;&quot;$ORACLE_HOME&quot;</span><br><span class="line">export LD_LIBRARY_PATH&#x3D;&quot;$ORACLE_HOME&quot;</span><br><span class="line">pip3 install cx_Oracle</span><br></pre></td></tr></table></figure>
<h2 id="中文乱码问题"><a href="#中文乱码问题" class="headerlink" title="中文乱码问题"></a>中文乱码问题</h2><p>Oracle中文乱码问题存在已久，使用cx_Oracle时也不例外，解决方法还是设置NLS_LANG环境变量。<br>有两种方式，一是在系统中设置永久环境变量，二是直接在代码中使用<code>os.environ</code>设置环境变量，这里推荐后者。  </p>
</li>
<li><p>方法一：在Shell中设置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export NLS_LANG&#x3D;&quot;SIMPLIFIED CHINESE_CHINA.UTF8&quot;</span><br></pre></td></tr></table></figure></li>
<li><p>方法二：直接在代码中加入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">os.environ[&#39;NLS_LANG&#39;] &#x3D; &#39;SIMPLIFIED CHINESE_CHINA.UTF8&#39;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="PyCharm下不识别cx-Oracle问题"><a href="#PyCharm下不识别cx-Oracle问题" class="headerlink" title="PyCharm下不识别cx_Oracle问题"></a>PyCharm下不识别cx_Oracle问题</h3><p>安装安成后，在python的console中已经可以<code>import cx_Oracle</code>了，但在PyCharm中却提示找不到cx_Oracle。这是一个比较大的坑，可以详细讲一下处理过程。  </p>
<p>首先初步定位到原因，是由于PyCharm中没有定义LD_LIBRARY_PATH与DYLD_LIBRARY_PATH两个环境变量造成的。<br>PyCharm会自动读取系统中的环境变量设置并导入，但唯独这两个没有导进来。不深究原因，先尝试手工在PyCharm中配置这两个环境变量，总共有两处可以配置：</p>
<p>第一处：<br><code>CMD+,</code>打开Preference，找到 Build,Execution,Deployment -&gt; Console -&gt; Python Console -&gt;Enviroment Variables<br><img src="http://oss.bluexiii.com/r61vs.jpg"><br>此处的配置会修复PyCharm中的Console。</p>
<p>第二处：<br>右上角 Run -&gt; Edit Configurations，添加两条环境变量<br><img src="http://oss.bluexiii.com/09u0q.jpg"><br>此处的配置会修复PyCharm中<code>Ctrl+Shift+R</code>运行代码时的报错。</p>
<p>在以上两处手工添加环境变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DYLD_LIBRARY_PATH&#x3D;&#x2F;path&#x2F;to&#x2F;instantclient</span><br><span class="line">LD_LIBRARY_PATH&#x2F;path&#x2F;to&#x2F;instantclient</span><br></pre></td></tr></table></figure>
<p>两处的环境变量配置完成后，虽然console中可以正常使用cx_Oracle了，代码也可以正常运行了，但编辑界面中的inspection还是有问题的，提示有Error，并且不能使用自动完成功能。</p>
<p>于是回到之前的问题，为什么明明已经定义了，但PyCharm却没有找到LD_LIBRARY_PATH与DYLD_LIBRARY_PATH？<br>同时偶然发现，在执行<code>env</code>命令查看已定义的环境变量时，也是找不到LD_LIBRARY_PATH与DYLD_LIBRARY_PATH的。<br>这貌似已经不是PyCharm自身的问题了，需要从macOS系统来着手了。  </p>
<p>于是在stackoverflow上找到了这么一段话：  </p>
<blockquote>
<p>El Capitan added system integrity protection (SIP), and one side effect of that is that exporting DYLD_LIBRARY_PATH doesn’t work. That could affect running SQL*Plus from a shell script, for example. There are workarounds for the 11g instant client. The installation notes at the bottom of the download page have changed since I last did this, and it now says to hard link the library files to the user’s ~/lib directory to avoid that issue. Fortunately it looks like you don’t need to worry about that with the 12c client - they’ve fixed the way it’s built.</p>
</blockquote>
<p>看来根本原因是OSX 10.11之后加入的这个SIP引发的了。  </p>
<p>首先想到的最简单的方法，将所有的<code>.dylib</code>和<code>.h</code>都拷贝到系统默认的目录就可以了。<br>但很杯具，<code>/usr/lib</code>和<code>/user/include</code>这两个目录也被SIP保护了。因为不想强制关闭SIP，继续再想别的办法。<br>接着发现<code>/usr/local/lib</code>和<code>/user/local/include</code>目录还是可以操作的，于是拷到这两个目录：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;path&#x2F;to&#x2F;instantclient</span><br><span class="line">cp *.dylib &#x2F;usr&#x2F;local&#x2F;lib</span><br><span class="line">cp .&#x2F;sdk&#x2F;include&#x2F;*.h &#x2F;usr&#x2F;local&#x2F;include</span><br></pre></td></tr></table></figure>
<p>再将cx_Oracle卸载后重新编译安装：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pip3 uninstall cx_Oracle</span><br><span class="line">sudo pip3 install cx_Oracle</span><br></pre></td></tr></table></figure>
<p>重启PyCharm后，问题解决。</p>
<h2 id="cx-Oracle的简单使用"><a href="#cx-Oracle的简单使用" class="headerlink" title="cx_Oracle的简单使用"></a>cx_Oracle的简单使用</h2><p>cx_Oracle的使用上没有什么问题，一切按套路来写就可以了。贴一个简单的示例：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import cx_Oracle</span><br><span class="line">conn &#x3D; cx_Oracle.connect(&#39;username&#39;, &#39;password&#39;,&#39;host:port&#x2F;sid&#39;)</span><br><span class="line">cursor &#x3D; conn.cursor()</span><br><span class="line">cursor.execute(&#39;select column from table&#39;)</span><br><span class="line">result &#x3D; cursor.fetchall()</span><br><span class="line">for row in result:</span><br><span class="line">    print(row)</span><br><span class="line">cursor.close()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure>
<p>更加详细的内容请参考官方文档：<br><a target="_blank" rel="noopener" href="https://cx-oracle.readthedocs.io/en/latest/">https://cx-oracle.readthedocs.io/en/latest/</a><br><a target="_blank" rel="noopener" href="https://oracle.github.io/python-cx_Oracle/">https://oracle.github.io/python-cx_Oracle/</a>  </p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a target="_blank" rel="noopener" href="https://gist.github.com/thom-nic/6011715">https://gist.github.com/thom-nic/6011715</a><br><a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/37711482/how-to-install-oracle-instant-client-on-a-mac">http://stackoverflow.com/questions/37711482/how-to-install-oracle-instant-client-on-a-mac</a>  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/flask-adminlte-handler/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/flask-adminlte-handler/" class="post-title-link" itemprop="url">flask-adminlte-handler</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-15 10:50:48" itemprop="dateCreated datePublished" datetime="2017-04-15T10:50:48+08:00">2017-04-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-07-31 08:56:53" itemprop="dateModified" datetime="2019-07-31T08:56:53+08:00">2019-07-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>继续接着上次的话题，上周整理出来的flask-rest脚手架，用于快速构建Restful API。虽然后端的代码量很少，但前端会变得很重，所以总体开发速度并不算太快，不太适合小型项目。<br>于是又整理了一套flask-adminlte脚手架，目标是用较传统的方式，减少整体的代码量，加快开发速度，以应对一些比较极端的需求。大体估算，开发时间可以做到SpringBoot全家桶的30%左右。  </p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p><a target="_blank" rel="noopener" href="http://git.si-tech.com.cn/guolei/flask-adminlte-handler">http://git.si-tech.com.cn/guolei/flask-adminlte-handler</a><br><a target="_blank" rel="noopener" href="https://github.com/xiiiblue/flask-adminlte-handler">https://github.com/xiiiblue/flask-rest-sample</a>  </p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>flask-adminlte-handler是一个Python环境下的WEB后台管理系统脚手架，目标是用极少量的代码，快速构建小型WEB应用。请勿在大中型项目中进行尝试。  </p>
<ol>
<li>使用较传统的重后端+轻前端的方式，降低总体代码量</li>
<li>Web框架使用Flask，默认Jinja模版</li>
<li>ORM框架使用Peewee</li>
<li>前端套用基于BootStrap的AdminLTE模板</li>
</ol>
<h2 id="系统截图"><a href="#系统截图" class="headerlink" title="系统截图"></a>系统截图</h2><ul>
<li><p>登录页<br><img src="http://oss.bluexiii.com/0ot1s.jpg"></p>
</li>
<li><p>主页<br><img src="http://oss.bluexiii.com/644d6.jpg"></p>
</li>
<li><p>编辑界面<br><img src="http://oss.bluexiii.com/fojv1.jpg">  </p>
</li>
<li><p>查询界面<br><img src="http://oss.bluexiii.com/vvelb.jpg"></p>
</li>
</ul>
<h2 id="第三方依赖"><a href="#第三方依赖" class="headerlink" title="第三方依赖"></a>第三方依赖</h2><ul>
<li>peewee</li>
<li>pymysql</li>
<li>flask</li>
<li>flask-script</li>
<li>flask-wtf</li>
<li>flask-login</li>
</ul>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="venv虚拟环境安装配置"><a href="#venv虚拟环境安装配置" class="headerlink" title="venv虚拟环境安装配置"></a>venv虚拟环境安装配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pip3 install virtualenv</span><br><span class="line">virtualenv venv</span><br><span class="line">. venv&#x2F;bin&#x2F;activate</span><br></pre></td></tr></table></figure>
<h3 id="第三方依赖安装"><a href="#第三方依赖安装" class="headerlink" title="第三方依赖安装"></a>第三方依赖安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirements.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="系统参数配置"><a href="#系统参数配置" class="headerlink" title="系统参数配置"></a>系统参数配置</h3><ol>
<li><p>编辑<code>config.py</code>， 修改SECRET_KEY及MySQL数据库相关参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SECRET_KEY &#x3D; os.environ.get(&#39;SECRET_KEY&#39;) or &#39;your-secret&#39;</span><br><span class="line">DB_HOST &#x3D; &#39;127.0.0.1&#39;</span><br><span class="line">DB_USER &#x3D; &#39;foobar&#39;</span><br><span class="line">DB_PASSWD &#x3D; &#39;foobar&#39;</span><br><span class="line">DB_DATABASE &#x3D; &#39;foobar&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>编辑log-app.conf，修改日志路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">args&#x3D;(&#39;&#x2F;path&#x2F;to&#x2F;log&#x2F;flask-rest-sample.log&#39;,&#39;a&#39;,&#39;utf8&#39;)</span><br></pre></td></tr></table></figure>
<h3 id="数据库初始化"><a href="#数据库初始化" class="headerlink" title="数据库初始化"></a>数据库初始化</h3></li>
<li><p>自动建表<br>直接运行<code>python3 models.py</code></p>
</li>
<li><p>插入管理员用户（默认admin/admin)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO &#96;user&#96; (&#96;id&#96;, &#96;username&#96;, &#96;password&#96;, &#96;fullname&#96;, &#96;email&#96;, &#96;phone&#96;, &#96;status&#96;)</span><br><span class="line">VALUES</span><br><span class="line">	(1, &#39;admin&#39;, &#39;pbkdf2:sha1:1000$Km1vdx3W$9aa07d3b79ab88aae53e45d26d0d4d4e097a6cd3&#39;, &#39;管理员&#39;, &#39;admin@admin.com&#39;, &#39;18612341234&#39;, 1);</span><br></pre></td></tr></table></figure>
<h3 id="启动应用"><a href="#启动应用" class="headerlink" title="启动应用"></a>启动应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup .&#x2F;manage.py runserver 2&gt;&amp;1 &amp;</span><br><span class="line">或</span><br><span class="line">.&#x2F;run_app_dev.py (仅限测试)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="项目目录结构"><a href="#项目目录结构" class="headerlink" title="项目目录结构"></a>项目目录结构</h2><p><img src="http://oss.bluexiii.com/963uh.jpg">  </p>
<ul>
<li>/app/auth  用户认证相关代码</li>
<li>/app/main  主要功能点相关代码</li>
<li>/app/static  JS、CSS等静态文件</li>
<li>/app/template  页面模版</li>
<li>/app/models.py  Peewee模型</li>
<li>/app/utils.py  工具模块</li>
<li>/conf  系统参数及日志配置</li>
</ul>
<h2 id="相关学习文档"><a href="#相关学习文档" class="headerlink" title="相关学习文档"></a>相关学习文档</h2><ul>
<li><a target="_blank" rel="noopener" href="http://flask.pocoo.org/">http://flask.pocoo.org</a></li>
<li><a target="_blank" rel="noopener" href="https://flask-login.readthedocs.io/">https://flask-login.readthedocs.io</a></li>
<li><a target="_blank" rel="noopener" href="https://flask-script.readthedocs.io/">https://flask-script.readthedocs.io</a></li>
<li><a target="_blank" rel="noopener" href="https://flask-wtf.readthedocs.io/">https://flask-wtf.readthedocs.io</a></li>
<li><a target="_blank" rel="noopener" href="http://docs.peewee-orm.com/">http://docs.peewee-orm.com</a></li>
<li><a target="_blank" rel="noopener" href="https://almsaeedstudio.com/preview">https://almsaeedstudio.com/preview</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/flask-rest-sample/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/flask-rest-sample/" class="post-title-link" itemprop="url">使用Flask快速构建REST应用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-08 16:55:12" itemprop="dateCreated datePublished" datetime="2017-04-08T16:55:12+08:00">2017-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:45:51" itemprop="dateModified" datetime="2018-11-06T15:45:51+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>最近在某个小型项目上进行了一些尝试，目标是用极快的速度构建一套简洁且优雅的小型WEB系统。当然这次尝试可以说是失败的，稍后会提到。  </p>
<p>架构上主要是前后端分离，后端使用Python实现RESTFul API，前端直接套用AdminLTE模版。  </p>
<p>得益于Python动态语言的特性，后端可以做到非常少量的代码实现增删改查等基本功能，大约是可以使用100多行代码写了25个REST服务吧，非常惊人。虽然比较简陋，但比起之前使用Spring Boot全家桶来开发REST，要快得太多。  </p>
<p>但比起后端，前端的代码量，初版写出来之后，是后端的几十倍，使用gulp构建，include等插件后，做到了一定简化，接下来还要做SPA化，引入vue.js、webpack等等，最终会变成 <strong>为了目的不择手段，为了手段而忘记目的</strong> 。一个很重要的前提是，要做一个 <strong>小型WEB系统</strong> ，整体成本要小。所以前后端分离虽然好处多多，但前端太重了，并不适合小型系统。  </p>
<p>最终还是使用了Flask+Jinja，传统的重后端、轻前端的方式来实现，将总体代码量控制到了极少。<br>但这次的REST API部分，不失为一次有益的尝试，单独拿出来做成脚手架，提供给有需要的人吧。  </p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><p><a target="_blank" rel="noopener" href="http://git.si-tech.com.cn/guolei/flask-rest-sample">http://git.si-tech.com.cn/guolei/flask-rest-sample</a><br><a target="_blank" rel="noopener" href="https://github.com/xiiiblue/flask-rest-sample">https://github.com/xiiiblue/flask-rest-sample</a>  </p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>flask-rest-sample 是一个使用Python编写的REST API，可以对多个资源提供增删改查服务，用于快速构建REST应用。  </p>
<ol>
<li>Web框架使用Flask</li>
<li>ORM框架使用peewee</li>
<li>安全方面使用了flask-jwt插件进行JWT(Json Web Token)认证</li>
<li>由于flask-rest/flask-restplus侵略性较强，本次没有使用。</li>
<li>可以考虑自行使用flasgger添加SwaggerUI文档。</li>
</ol>
<h2 id="第三方依赖"><a href="#第三方依赖" class="headerlink" title="第三方依赖"></a>第三方依赖</h2><ul>
<li>peewee</li>
<li>pymysql</li>
<li>Flask</li>
<li>Flask-JWT</li>
<li>flask-script</li>
</ul>
<h2 id="主要代码示例"><a href="#主要代码示例" class="headerlink" title="主要代码示例"></a>主要代码示例</h2><ol>
<li><p>建模时尽量避免使用外键等约束条件，保证模型结构上一致，可以做到共用一个公共服务。</p>
</li>
<li><p>可使用<code>@rest.route</code>添加多个资源</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"># 基本API</span><br><span class="line">@rest.route(&#39;&#x2F;api&#x2F;reports&#39;, methods&#x3D;[&#39;GET&#39;, &#39;POST&#39;])</span><br><span class="line">@rest.route(&#39;&#x2F;api&#x2F;reports&#x2F;&lt;id&gt;&#39;, methods&#x3D;[&#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;])</span><br><span class="line">@rest.route(&#39;&#x2F;api&#x2F;res2&#39;, methods&#x3D;[&#39;GET&#39;, &#39;POST&#39;])</span><br><span class="line">@rest.route(&#39;&#x2F;api&#x2F;res2&#x2F;&lt;id&gt;&#39;, methods&#x3D;[&#39;GET&#39;, &#39;PUT&#39;, &#39;DELETE&#39;])  #只要模型结构一致，可以添加多个资源</span><br><span class="line">@jwt_required()</span><br><span class="line">def common_rest_api(id&#x3D;None):</span><br><span class="line">    model_name &#x3D; request.path.split(&#39;&#x2F;&#39;)[2]  </span><br><span class="line">    pee_wee_model &#x3D; utils.get_model_by_name(model_name)  #从URL中确定模型</span><br><span class="line">    if not pee_wee_model:</span><br><span class="line">        return utils.jsonresp(status&#x3D;400, errinfo&#x3D;&#39;model_name不正确&#39;)</span><br><span class="line"></span><br><span class="line">    if id:</span><br><span class="line">        # 查询</span><br><span class="line">        if request.method &#x3D;&#x3D; &#39;GET&#39;:</span><br><span class="line">            try:</span><br><span class="line">                model &#x3D; pee_wee_model.get(pee_wee_model.id &#x3D;&#x3D; id)</span><br><span class="line">            except:</span><br><span class="line">                return utils.jsonresp(status&#x3D;404, errinfo&#x3D;&#39;查询不到资料&#39;)</span><br><span class="line">            return utils.jsonresp(jsonobj&#x3D;utils.obj_to_dict(model))</span><br><span class="line">        # 修改</span><br><span class="line">        elif request.method &#x3D;&#x3D; &#39;PUT&#39;:</span><br><span class="line">            json_dict &#x3D; request.get_json(silent&#x3D;True, force&#x3D;True)</span><br><span class="line">            if not json_dict: return utils.jsonresp(status&#x3D;400, errinfo&#x3D;&#39;参数格式不正确&#39;)</span><br><span class="line">            try:</span><br><span class="line">                model &#x3D; pee_wee_model.get(pee_wee_model.id &#x3D;&#x3D; id)</span><br><span class="line">            except:</span><br><span class="line">                return utils.jsonresp(status&#x3D;404, errinfo&#x3D;&#39;查询不到资料&#39;)</span><br><span class="line">            utils.dict_to_obj(dict&#x3D;json_dict, obj&#x3D;model, exclude&#x3D;(&#39;id&#39;,))  # 去掉ID字段</span><br><span class="line">            model.save()</span><br><span class="line">            return utils.jsonresp(status&#x3D;201)</span><br><span class="line">        # 删除</span><br><span class="line">        elif request.method &#x3D;&#x3D; &#39;DELETE&#39;:</span><br><span class="line">            try:</span><br><span class="line">                pee_wee_model.get(pee_wee_model.id &#x3D;&#x3D; id).delete_instance()</span><br><span class="line">            except:</span><br><span class="line">                return utils.jsonresp(status&#x3D;404, errinfo&#x3D;&#39;查询不到资料&#39;)</span><br><span class="line">            return utils.jsonresp(status&#x3D;204)</span><br><span class="line">        else:</span><br><span class="line">            return utils.jsonresp(status&#x3D;405, errinfo&#x3D;&#39;不支持的HTTP方法&#39;)</span><br><span class="line">    else:</span><br><span class="line">        # 全量查询（支持分页、排序、搜索）</span><br><span class="line">        if request.method &#x3D;&#x3D; &#39;GET&#39;:</span><br><span class="line">            # 处理查询参数</span><br><span class="line">            logger.debug(request.args)</span><br><span class="line">            try:</span><br><span class="line">                # 当前页码</span><br><span class="line">                page &#x3D; request.args.get(&#39;page&#39;, &#39;&#39;)</span><br><span class="line">                if page: page &#x3D; int(page) + 1</span><br><span class="line">                # 每页展示数量</span><br><span class="line">                length &#x3D; request.args.get(&#39;length&#39;, &#39;&#39;)</span><br><span class="line">                if length:</span><br><span class="line">                    length &#x3D; int(length)</span><br><span class="line">                else:</span><br><span class="line">                    length &#x3D; cfg.ITEMS_PER_PAGE</span><br><span class="line">                # 排序</span><br><span class="line">                sort &#x3D; request.args.get(&#39;sort&#39;, &#39;&#39;)</span><br><span class="line">                if sort:</span><br><span class="line">                    sort_column &#x3D; sort.split(&#39;,&#39;)[0]</span><br><span class="line">                    sort_direction &#x3D; sort.split(&#39;,&#39;)[1]</span><br><span class="line">            except:</span><br><span class="line">                return utils.jsonresp(status&#x3D;400, errinfo&#x3D;&#39;参数格式不正确&#39;)</span><br><span class="line"></span><br><span class="line">            # 查询</span><br><span class="line">            query &#x3D; pee_wee_model.select()</span><br><span class="line">            total_count &#x3D; query.count()</span><br><span class="line"></span><br><span class="line">            # 排序</span><br><span class="line">            if sort:</span><br><span class="line">                if sort_column in pee_wee_model._meta.fields:</span><br><span class="line">                    field &#x3D; getattr(pee_wee_model, sort_column)</span><br><span class="line">                    if sort_direction !&#x3D; &#39;asc&#39;:</span><br><span class="line">                        field &#x3D; field.desc()</span><br><span class="line">                    query &#x3D; query.order_by(field)</span><br><span class="line">            # 分页</span><br><span class="line">            if page:</span><br><span class="line">                query &#x3D; query.paginate(page, length)</span><br><span class="line"></span><br><span class="line">            dict &#x3D; &#123;&#39;content&#39;: utils.query_to_list(query), &#39;totalElements&#39;: total_count&#125;</span><br><span class="line">            return utils.jsonresp(jsonobj&#x3D;dict)</span><br><span class="line">        # 新增</span><br><span class="line">        elif request.method &#x3D;&#x3D; &#39;POST&#39;:</span><br><span class="line">            json_dict &#x3D; request.get_json(silent&#x3D;True, force&#x3D;True)</span><br><span class="line">            if not json_dict: return utils.jsonresp(status&#x3D;400, errinfo&#x3D;&#39;参数格式不正确&#39;)</span><br><span class="line">            user &#x3D; utils.dict_to_obj(dict&#x3D;json_dict, obj&#x3D;pee_wee_model(), exclude&#x3D;[&#39;id&#39;])  # 去掉ID字段</span><br><span class="line">            user.save()</span><br><span class="line">            return utils.jsonresp(status&#x3D;201)</span><br><span class="line">        else:</span><br><span class="line">            return utils.jsonresp(status&#x3D;405, errinfo&#x3D;&#39;不支持的HTTP方法&#39;)</span><br></pre></td></tr></table></figure>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="venv虚拟环境安装配置"><a href="#venv虚拟环境安装配置" class="headerlink" title="venv虚拟环境安装配置"></a>venv虚拟环境安装配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pip3 install virtualenv</span><br><span class="line">virtualenv venv</span><br><span class="line">. venv&#x2F;bin&#x2F;activate</span><br></pre></td></tr></table></figure>
<h3 id="第三方依赖安装"><a href="#第三方依赖安装" class="headerlink" title="第三方依赖安装"></a>第三方依赖安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirements.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="系统参数配置"><a href="#系统参数配置" class="headerlink" title="系统参数配置"></a>系统参数配置</h3></li>
<li><p>编辑<code>config.py</code>， 修改SECRET_KEY及MySQL数据库相关参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SECRET_KEY &#x3D; os.environ.get(&#39;SECRET_KEY&#39;) or &#39;your-secret&#39;</span><br><span class="line">DB_HOST &#x3D; &#39;127.0.0.1&#39;</span><br><span class="line">DB_USER &#x3D; &#39;foobar&#39;</span><br><span class="line">DB_PASSWD &#x3D; &#39;foobar&#39;</span><br><span class="line">DB_DATABASE &#x3D; &#39;foobar&#39;</span><br></pre></td></tr></table></figure></li>
<li><p>编辑log-app.conf，修改日志路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">args&#x3D;(&#39;&#x2F;path&#x2F;to&#x2F;log&#x2F;flask-rest-sample.log&#39;,&#39;a&#39;,&#39;utf8&#39;)</span><br></pre></td></tr></table></figure>
<h3 id="数据库初始化"><a href="#数据库初始化" class="headerlink" title="数据库初始化"></a>数据库初始化</h3></li>
<li><p>自动建表<br>直接运行<code>python3 models.py</code></p>
</li>
<li><p>插入管理员用户（默认admin/admin)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO &#96;user&#96; (&#96;id&#96;, &#96;username&#96;, &#96;password&#96;, &#96;fullname&#96;, &#96;email&#96;, &#96;phone&#96;, &#96;status&#96;)</span><br><span class="line">VALUES</span><br><span class="line">	(1, &#39;admin&#39;, &#39;pbkdf2:sha1:1000$Km1vdx3W$9aa07d3b79ab88aae53e45d26d0d4d4e097a6cd3&#39;, &#39;管理员&#39;, &#39;admin@admin.com&#39;, &#39;18612341234&#39;, 1);</span><br></pre></td></tr></table></figure>
<h3 id="启动应用"><a href="#启动应用" class="headerlink" title="启动应用"></a>启动应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup .&#x2F;manage.py runserver 2&gt;&amp;1 &amp;</span><br><span class="line">或</span><br><span class="line">.&#x2F;run_app_dev.py (仅限测试)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="REST接口说明"><a href="#REST接口说明" class="headerlink" title="REST接口说明"></a>REST接口说明</h2><p>以reports资源为例：</p>
<ul>
<li>GET  /api/reports/<id>  查询<br>200 成功</li>
</ul>
<ul>
<li><p>PUT  /api/reports/<id>  修改<br>201 成功</p>
</li>
<li><p>DELETE  /api/reports/<id>  删除<br>204 成功</p>
</li>
<li><p>POST  /api/reports  新增<br>200 成功</p>
</li>
<li><p>GET  /api/reports  全量查询<br>200 成功</p>
<blockquote>
<p>支持分页（URL参数：page、length）及排序(URL参数：sort)<br>参数示例：<code>?page=1&amp;length=5&amp;sort=serial_number,desc</code>  </p>
</blockquote>
</li>
</ul>
<h2 id="JWT认证简单说明"><a href="#JWT认证简单说明" class="headerlink" title="JWT认证简单说明"></a>JWT认证简单说明</h2><ol>
<li>向/api/auth发起用户认证请求  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">POST http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;api&#x2F;auth</span><br><span class="line">Content-Type: application&#x2F;json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;username&quot;: &quot;admin&quot;,</span><br><span class="line">    &quot;password&quot;: &quot;admin&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>获取响应，取得access_token<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;access_token&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE0OTE2MzUyNTQsIm5iZiI6MTQ5MTYzNTI1NCwiaWRlbnRpdHkiOjEsImV4cCI6MTQ5MTYzNTU1NH0.wq-uer9LbRP5hEYGT4WfD5O4jf7k7du2Q1K6musKzvU&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>在接下来的HTTP请求头中，加入<code>Authorization</code>，值为<code>JWT+空格+access_token</code><br>以获取当前用户信息为例<br>请求：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;api&#x2F;identity</span><br><span class="line">Authorization: JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE0OTE2MzUyNTQsIm5iZiI6MTQ5MTYzNTI1NCwiaWRlbnRpdHkiOjEsImV4cCI6MTQ5MTYzNTU1NH0.wq-uer9LbRP5hEYGT4WfD5O4jf7k7du2Q1K6musKzvU</span><br></pre></td></tr></table></figure>
响应：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;email&quot;: &quot;admin@admin.com&quot;,</span><br><span class="line">  &quot;fullname&quot;: &quot;管理员&quot;,</span><br><span class="line">  &quot;username&quot;: &quot;admin&quot;,</span><br><span class="line">  &quot;phone&quot;: &quot;18612341234&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/%E4%BD%BF%E7%94%A8Gradle%E6%9E%84%E5%BB%BA%E5%A4%9A%E6%A8%A1%E5%9D%97Java%E9%A1%B9%E7%9B%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/%E4%BD%BF%E7%94%A8Gradle%E6%9E%84%E5%BB%BA%E5%A4%9A%E6%A8%A1%E5%9D%97Java%E9%A1%B9%E7%9B%AE/" class="post-title-link" itemprop="url">使用Gradle构建Java项目</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-08 10:24:06" itemprop="dateCreated datePublished" datetime="2017-04-08T10:24:06+08:00">2017-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:45:41" itemprop="dateModified" datetime="2018-11-06T15:45:41+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Gradle是一种类似Maven的项目构建工具，它没有使用繁琐的XML，而是使用Groovy语言进行配置。<br>作为后起之秀，Gradle继承了Maven的一些思想，并且 <strong>配置简洁</strong> ，有更强的 <strong>灵活性</strong> 。  </p>
<p>Android Studio从一定程度上也加快了Gradle的流行，目前有非常多的开源项目已经迁移到了Gradle。<br>但现阶段Gradle还不能完全替代Maven，从目前GitHub上的趋势看来，二者可能要并存一段时间了。  </p>
<p>从去年开始在一些中小型项目上尝试引入Gradle，仅做简单的项目构建，没有太过深入研究，整体使用下来的体验还是很愉快的。<br>本文主要是作一些科普，抛砖引玉，并贴出两个可以直接拿来使用的示例，帮助大家快速上手。  </p>
<h2 id="与Maven简单对比"><a href="#与Maven简单对比" class="headerlink" title="与Maven简单对比"></a>与Maven简单对比</h2><ol>
<li><p>简洁的配置。现在有很多人都对XML深恶痛绝，在Maven中，添加一个依赖需要编写以下5行配置：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.zaxxer&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;HikariCP&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.5.0&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>
<p>而在Gradle中，只需要一行：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;com.zaxxer:HikariCP:2.5.0&#39;</span><br></pre></td></tr></table></figure>
<p>所以Gradle配置文件的整体长度大约是Maven的1/4到1/5左右，并且更加易读。</p>
</li>
<li><p>灵活性。例如要执行一条shell命令，只需要3行。当然客观来说，灵活往往是复杂的同义词：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">task dropDB(type: Exec) &#123;</span><br><span class="line"> commandLine ‘curl’,’-s’,’s’,’-x’,’DELETE’,&quot;http:&#x2F;&#x2F;$&#123;db.server&#125;:&#123;db.port&#125;&#x2F;db_name&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>约定优于配置。Gradle的Java Plugin，定义了与Maven完全一致的项目布局：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">src&#x2F;main&#x2F;java</span><br><span class="line">src&#x2F;main&#x2F;resources</span><br><span class="line">src&#x2F;test&#x2F;java</span><br><span class="line">src&#x2F;test&#x2F;resources</span><br></pre></td></tr></table></figure>
<p>更多的比较，可以参考 <a target="_blank" rel="noopener" href="https://gradle.org/maven-vs-gradle">https://gradle.org/maven-vs-gradle</a>  </p>
</li>
</ol>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul>
<li>macOS下安装:  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install gradle</span><br></pre></td></tr></table></figure></li>
<li>Ubuntu下安装:  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gradle</span><br></pre></td></tr></table></figure></li>
<li>Windows下安装:  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Step1: 在[https:&#x2F;&#x2F;gradle.org&#x2F;releases](https:&#x2F;&#x2F;gradle.org&#x2F;releases) 下载binary-only的zip包  </span><br><span class="line">Step2: 解压至某一目录，如C:&#x2F;bin&#x2F;gradle  </span><br><span class="line">Step3: 在系统属性-高级-环境变量中，新增GRADLE_HOME环境变量来指向安装路径，并在PATH环境变量的最后追加上GRADLE_HOME&#x2F;bin  </span><br></pre></td></tr></table></figure>
<h2 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h2>关于Gradle的学习，不再赘述，有大量的资源可供查阅  </li>
<li><a target="_blank" rel="noopener" href="https://gradle.org/">Gradle 官网</a>  </li>
<li><a target="_blank" rel="noopener" href="https://docs.gradle.org/current/userguide/userguide.html">Gradle User Guide</a>  </li>
<li><a target="_blank" rel="noopener" href="https://dongchuan.gitbooks.io/gradle-user-guide-/tutorials/">Gradle User Guide 中文版</a></li>
</ul>
<h2 id="单模块项目构建示例"><a href="#单模块项目构建示例" class="headerlink" title="单模块项目构建示例"></a>单模块项目构建示例</h2><p>下面是一个单模块Spring Boot项目的示例，适合快速搭建小型项目  </p>
<p><strong>/build.gradle</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        flatDir &#123;</span><br><span class="line">            dirs &#39;libs&#39;</span><br><span class="line">        &#125;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        maven &#123; url &quot;http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:8081&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&quot; &#125;</span><br><span class="line">        &#x2F;&#x2F;  &#x2F;&#x2F; mavenCentral()  &#x2F;&#x2F;jcenter()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.4.0.RELEASE&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">apply plugin: &#39;java&#39;</span><br><span class="line">apply plugin: &quot;spring-boot&quot;</span><br><span class="line"></span><br><span class="line">jar &#123;</span><br><span class="line">    baseName &#x3D; &#39;project&#39;</span><br><span class="line">    version &#x3D; &#39;1.0-SNAPSHOT&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sourceCompatibility &#x3D; 1.7</span><br><span class="line">targetCompatibility &#x3D; 1.7</span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter&#39;</span><br><span class="line">    compile &#39;org.apache.commons:commons-email:1.4&#39;</span><br><span class="line">    compile files(&#39;libs&#x2F;jxl-2.6.12.jar&#39;)</span><br><span class="line">    runtime &#39;mysql:mysql-connector-java:5.1.36&#39;</span><br><span class="line">    testCompile &#39;org.springframework.boot:spring-boot-starter-test&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test &#123;</span><br><span class="line">    exclude &#39;com&#x2F;foo&#x2F;**&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task listJars(description: &#39;Display all compile jars.&#39;) &lt;&lt; &#123;</span><br><span class="line">    configurations.compile.each &#123; File file -&gt; println file.name &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="多模块项目构建示例"><a href="#多模块项目构建示例" class="headerlink" title="多模块项目构建示例"></a>多模块项目构建示例</h2><p>下面是一个基于Spring Boot的多模块项目示例，可以裁剪后直接拿来做为脚手架使用，适合中型项目  </p>
<p><strong>/settings.gradle</strong>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include &#39;common&#39;</span><br><span class="line">include &#39;repository&#39;</span><br><span class="line">include &#39;restapi&#39;</span><br></pre></td></tr></table></figure>
<p><strong>/build.gradle</strong>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        maven &#123; url &quot;http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:8081&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&quot; &#125;</span><br><span class="line">        &#x2F;&#x2F;mavenCentral()</span><br><span class="line">        &#x2F;&#x2F;jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:1.4.0.RELEASE&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line">    apply plugin: &#39;idea&#39;</span><br><span class="line">    apply plugin: &#39;eclipse&#39;</span><br><span class="line"></span><br><span class="line">    group &#x3D; &#39;com.foo.bar&#39;</span><br><span class="line">    version &#x3D; &#39;1.0-SNAPSHOT&#39;</span><br><span class="line">    &#x2F;&#x2F;archivesBaseName &#x3D; &#39;project&#39;</span><br><span class="line"></span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenLocal()</span><br><span class="line">        maven &#123; url &quot;http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:8081&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&quot; &#125;</span><br><span class="line">        &#x2F;&#x2F;mavenCentral()</span><br><span class="line">        &#x2F;&#x2F;jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">subprojects &#123;</span><br><span class="line">    apply plugin: &#39;java&#39;</span><br><span class="line">    apply plugin: &quot;spring-boot&quot;</span><br><span class="line"></span><br><span class="line">    sourceCompatibility &#x3D; 1.8</span><br><span class="line">    targetCompatibility &#x3D; 1.8</span><br><span class="line"></span><br><span class="line">    dependencies &#123;</span><br><span class="line">        compile &#39;org.springframework.boot:spring-boot-starter&#39;</span><br><span class="line">        compile &#39;org.springframework.boot:spring-boot-configuration-processor&#39;</span><br><span class="line">        compile &#39;org.springframework.boot:spring-boot-devtools&#39;</span><br><span class="line">        testCompile &#39;org.springframework.boot:spring-boot-starter-test&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    test &#123;</span><br><span class="line">        exclude &#39;com&#x2F;foo&#x2F;bar&#x2F;**&#39;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    task listJars(description: &#39;Display all compile jars.&#39;) &lt;&lt; &#123;</span><br><span class="line">        configurations.compile.each &#123; File file -&gt; println file.name &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">task wrapper(type: Wrapper) &#123;</span><br><span class="line">    gradleVersion &#x3D; &#39;3.1&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>/common/build.gradle</strong>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bootRepackage.enabled &#x3D; false</span><br><span class="line">jar.baseName &#39;project-common&#39;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile project(&#39;:repository&#39;)</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-web&#39;</span><br><span class="line">    compile &#39;commons-lang:commons-lang:2.6&#39;</span><br><span class="line">    compile &#39;org.apache.httpcomponents:httpclient:4.5.2&#39;</span><br><span class="line">    compile &#39;org.modelmapper:modelmapper:0.7.5&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>/repository/build.gradle</strong>  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">bootRepackage.enabled &#x3D; false</span><br><span class="line">jar.baseName &#39;project-repository&#39;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    &#x2F;&#x2F;spring boot</span><br><span class="line">    compile (&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;</span><br><span class="line">    &#x2F;&#x2F;jackson</span><br><span class="line">    compile &#39;com.fasterxml.jackson.core:jackson-annotations:2.8.1&#39;</span><br><span class="line">    &#x2F;&#x2F;hibernate validator</span><br><span class="line">    compile &#39;javax.validation:validation-api:1.1.0.Final&#39;</span><br><span class="line">    compile &#39;org.hibernate:hibernate-validator:5.2.4.Final&#39;</span><br><span class="line">    compile &#39;org.hibernate:hibernate-validator-cdi:5.2.4.Final&#39;</span><br><span class="line">    compile &#39;javax.el:javax.el-api:2.2.4&#39;</span><br><span class="line">    compile &#39;org.glassfish.web:javax.el:2.2.4&#39;</span><br><span class="line">    &#x2F;&#x2F;swagger</span><br><span class="line">    compile &#39;io.springfox:springfox-swagger2:2.6.0&#39;</span><br><span class="line">    compile &#39;io.springfox:springfox-swagger-ui:2.6.0&#39;</span><br><span class="line">    &#x2F;&#x2F;jdbc driver</span><br><span class="line">    runtime &#39;mysql:mysql-connector-java:5.1.36&#39;</span><br><span class="line">    runtime &#39;com.h2database:h2:1.4.192&#39;</span><br><span class="line">    &#x2F;&#x2F;test</span><br><span class="line">    testCompile &#39;org.springframework.security:spring-security-core:4.1.1.RELEASE&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>/restapi/build.gradle</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">jar.baseName &#39;project-rest-api&#39;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile project(&#39;:repository&#39;)</span><br><span class="line">    compile project(&#39;:common&#39;)</span><br><span class="line">    &#x2F;&#x2F;spring boot</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-cache&#39;</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-security&#39;</span><br><span class="line">    compile &#39;org.springframework.boot:spring-boot-starter-actuator&#39;</span><br><span class="line">    &#x2F;&#x2F;oauth2</span><br><span class="line">    compile &#39;org.springframework.security.oauth:spring-security-oauth2:2.0.11.RELEASE&#39;</span><br><span class="line">    &#x2F;&#x2F;cache</span><br><span class="line">    compile &#39;net.sf.ehcache:ehcache:2.10.2.2.21&#39;</span><br><span class="line">    &#x2F;&#x2F;pool</span><br><span class="line">    compile &#39;com.alibaba:druid:1.0.23&#39;</span><br><span class="line">    compile &#39;com.zaxxer:HikariCP:2.5.0&#39;</span><br><span class="line">    &#x2F;&#x2F;swagger-staticdocs</span><br><span class="line">    testCompile &#39;io.springfox:springfox-staticdocs:2.6.0&#39;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/soapui%E5%9C%A8mac%E4%B8%8B%E5%90%AF%E5%8A%A8%E5%8D%A1%E6%AD%BB%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/soapui%E5%9C%A8mac%E4%B8%8B%E5%90%AF%E5%8A%A8%E5%8D%A1%E6%AD%BB%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">SoapUI在macOS下启动卡死问题处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-08 08:47:13" itemprop="dateCreated datePublished" datetime="2017-04-08T08:47:13+08:00">2017-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:45:43" itemprop="dateModified" datetime="2018-11-06T15:45:43+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h2><p>macOS版SoapUI启动后，窗口卡死，只能Cmd-Option-Esc强制退出。</p>
<blockquote>
<p>系统版本: macOS Sierra 10.12.4<br>SoapUI版本: 5.3.0/5.2.1</p>
</blockquote>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><ol>
<li><p>修改vmoptions.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;Applications&#x2F;SoapUI-5.3.0.app&#x2F;Contents&#x2F;vmoptions.txt</span><br></pre></td></tr></table></figure>
<p>最后下新增一行<code>-Dsoapui.browser.disabled=true</code></p>
</li>
<li><p>修改soapui.sh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;Applications&#x2F;SoapUI-5.3.0.app&#x2F;Contents&#x2F;java&#x2F;app&#x2F;bin&#x2F;soapui.sh</span><br></pre></td></tr></table></figure>
<p>将<code>JAVA_OPTS=&quot;$JAVA_OPTS -Dsoapui.browser.disabled=true&quot;</code>一行的注释去掉。  </p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/%E4%BD%BF%E7%94%A8Java%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95Socket%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/%E4%BD%BF%E7%94%A8Java%E7%BC%96%E5%86%99%E7%AE%80%E5%8D%95Socket%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%92%8C%E6%9C%8D%E5%8A%A1%E7%AB%AF/" class="post-title-link" itemprop="url">使用Java编写简单Socket客户端和服务端</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-08 08:46:29" itemprop="dateCreated datePublished" datetime="2017-04-08T08:46:29+08:00">2017-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:45:39" itemprop="dateModified" datetime="2018-11-06T15:45:39+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>某同事要用Socket连接外围系统，帮忙写了个简单的Demo。<br>包含一个客户端和一个服务端的，仅是示例，比较简陋，服务端也没有用多线程。<br>直接贴代码了。  </p>
<h2 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">import java.io.*;</span><br><span class="line">import java.net.*;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Socket服务端示例</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class SocketServer &#123;</span><br><span class="line">    ServerSocket serverSocket;</span><br><span class="line">    Socket connection &#x3D; null;</span><br><span class="line">    ObjectOutputStream out;</span><br><span class="line">    ObjectInputStream in;</span><br><span class="line">    String message;</span><br><span class="line"></span><br><span class="line">    void runServer() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            &#x2F;&#x2F; 创建服务端监听</span><br><span class="line">            serverSocket &#x3D; new ServerSocket(31313, 10);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 等待客户端连接</span><br><span class="line">            System.out.println(&quot;等待客户端连接...&quot;);</span><br><span class="line">            connection &#x3D; serverSocket.accept();</span><br><span class="line">            System.out.println(&quot;收到客户端连接： &quot; + connection.getInetAddress().getHostName());</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 获取输入输出流</span><br><span class="line">            out &#x3D; new ObjectOutputStream(connection.getOutputStream());</span><br><span class="line">            out.flush();</span><br><span class="line">            in &#x3D; new ObjectInputStream(connection.getInputStream());</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 连接成功后，首先向客户端发成功消息</span><br><span class="line">            sendMsg(&quot;连接成功&quot;);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 发送接收消息</span><br><span class="line">            do &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    message &#x3D; (String) in.readObject();</span><br><span class="line">                    System.out.println(&quot;client&gt;&quot; + message);</span><br><span class="line"></span><br><span class="line">                    &#x2F;&#x2F; 发送退出消息</span><br><span class="line">                    if (message.equals(&quot;bye&quot;)) &#123;</span><br><span class="line">                        sendMsg(&quot;bye&quot;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; catch (ClassNotFoundException ex) &#123;</span><br><span class="line">                    ex.printStackTrace();</span><br><span class="line">                    System.err.println(&quot;数据格式无效&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; while (!message.equals(&quot;bye&quot;));  &#x2F;&#x2F;当对方消息为bye时退出循环</span><br><span class="line">        &#125; catch (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            &#x2F;&#x2F; 关闭Socket连接</span><br><span class="line">            try &#123;</span><br><span class="line">                in.close();</span><br><span class="line">                out.close();</span><br><span class="line">                serverSocket.close();</span><br><span class="line">            &#125; catch (IOException ioException) &#123;</span><br><span class="line">                ioException.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void sendMsg(String msg) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            out.writeObject(msg);</span><br><span class="line">            out.flush();</span><br><span class="line">            System.out.println(&quot;server&gt;&quot; + msg);</span><br><span class="line">        &#125; catch (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String args[]) &#123;</span><br><span class="line">        SocketServer server &#x3D; new SocketServer();</span><br><span class="line">        while (true) &#123;</span><br><span class="line">            server.runServer();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">import java.io.*;</span><br><span class="line">import java.net.*;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Socket客户端示例</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class SocketClient &#123;</span><br><span class="line">    Socket clientSocket;</span><br><span class="line">    ObjectOutputStream out;</span><br><span class="line">    ObjectInputStream in;</span><br><span class="line">    String message;</span><br><span class="line"></span><br><span class="line">    void runClient() &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            &#x2F;&#x2F; 连接到服务端</span><br><span class="line">            clientSocket &#x3D; new Socket(&quot;localhost&quot;, 31313);</span><br><span class="line">            System.out.println(&quot;已连接到服务端&quot;);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 获取输入输出流</span><br><span class="line">            out &#x3D; new ObjectOutputStream(clientSocket.getOutputStream());</span><br><span class="line">            out.flush();</span><br><span class="line">            in &#x3D; new ObjectInputStream(clientSocket.getInputStream());</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; 发送接收消息</span><br><span class="line">            do &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    &#x2F;&#x2F; 接收消息</span><br><span class="line">                    message &#x3D; (String) in.readObject();</span><br><span class="line">                    System.out.println(&quot;server&gt;&quot; + message);</span><br><span class="line"></span><br><span class="line">                    &#x2F;&#x2F; 发送消息</span><br><span class="line">                    sendMsg(&quot;hello&quot;);</span><br><span class="line">                    sendMsg(&quot;hello again&quot;);</span><br><span class="line"></span><br><span class="line">                    &#x2F;&#x2F; 发送退出消息</span><br><span class="line">                    message &#x3D; &quot;bye&quot;;</span><br><span class="line">                    sendMsg(message);</span><br><span class="line">                &#125; catch (ClassNotFoundException ex) &#123;</span><br><span class="line">                    ex.printStackTrace();</span><br><span class="line">                    System.err.println(&quot;数据格式无效&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; while (!message.equals(&quot;bye&quot;)); &#x2F;&#x2F;当对方消息为bye时退出循环</span><br><span class="line">        &#125; catch (UnknownHostException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">            System.err.println(&quot;无法连接到服务端&quot;);</span><br><span class="line">        &#125; catch (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            &#x2F;&#x2F; 关闭Socket连接</span><br><span class="line">            try &#123;</span><br><span class="line">                in.close();</span><br><span class="line">                out.close();</span><br><span class="line">                clientSocket.close();</span><br><span class="line">            &#125; catch (IOException ex) &#123;</span><br><span class="line">                ex.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void sendMsg(String msg) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            out.writeObject(msg);</span><br><span class="line">            out.flush();</span><br><span class="line">            System.out.println(&quot;client&gt;&quot; + msg);</span><br><span class="line">        &#125; catch (IOException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main(String args[]) &#123;</span><br><span class="line">        SocketClient client &#x3D; new SocketClient();</span><br><span class="line">        client.runClient();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201704/Ubuntu%E4%B8%8Bboot%E5%88%86%E5%8C%BA%E7%A9%BA%E9%97%B4%E5%B7%B2%E6%BB%A1%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201704/Ubuntu%E4%B8%8Bboot%E5%88%86%E5%8C%BA%E7%A9%BA%E9%97%B4%E5%B7%B2%E6%BB%A1%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/" class="post-title-link" itemprop="url">Ubuntu下boot分区空间已满问题处理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-08 08:38:12" itemprop="dateCreated datePublished" datetime="2017-04-08T08:38:12+08:00">2017-04-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:45:42" itemprop="dateModified" datetime="2018-11-06T15:45:42+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>最初安装Ubuntu时，/boot分区只给了200M空间（使用CentOS延续下来的习惯），结果每次生级内核时都会报错/boot空间不足。<br>下次全新安装Ubuntu，一定记得分出2G空间来给/boot。  </p>
<h2 id="临时解决方法"><a href="#临时解决方法" class="headerlink" title="临时解决方法"></a>临时解决方法</h2><ol>
<li><code>uname -a</code> 查看目前在用的内核版本  </li>
<li><code>dpkg --get-selections|grep linux-image</code> 显示所有的内核版本  </li>
<li><code>sudo apt remove linux-image-XXXX-generic</code> 卸载旧内核，注意只保留最新的 <strong>两个</strong> 版本   </li>
<li><code>sudo apt autoremove</code> 清理无用的依赖  </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201612/%E4%BD%BF%E7%94%A8MarkDown%E5%81%9A%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201612/%E4%BD%BF%E7%94%A8MarkDown%E5%81%9A%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/" class="post-title-link" itemprop="url">使用MarkDown做个人知识管理的一些心得</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-07 12:18:20" itemprop="dateCreated datePublished" datetime="2017-04-07T12:18:20+08:00">2017-04-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-07-31 08:56:53" itemprop="dateModified" datetime="2019-07-31T08:56:53+08:00">2019-07-31</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="什么是个人知识管理"><a href="#什么是个人知识管理" class="headerlink" title="什么是个人知识管理"></a>什么是个人知识管理</h2><p>个人知识管理，又名PKM（Personal Knowledge Management）, 是一种个人收集，验证，存储，搜索，提取，分享知识的过程。 –WIKI<br>PKM其实是一个很大的命题，包含了很多方面的内容。但我们每个人都在或多或少的使用它，都有自已的一些工具、心得。<br>以下仅讨论一下具体的笔记、摘录等文档的 <strong>编写</strong> 与 <strong>保存</strong>。  </p>
<h2 id="什么是MarkDown"><a href="#什么是MarkDown" class="headerlink" title="什么是MarkDown"></a>什么是MarkDown</h2><p>Markdown是一种轻量级标记语言，它允许人们“使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档”。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。<br>MarkDown第一眼看上去这个样子的：<br><img src="http://oss.bluexiii.com/czwie.jpg"><br>左侧是”源码”，右侧是渲染好的”结果”</p>
<h2 id="MarkDown的优势"><a href="#MarkDown的优势" class="headerlink" title="MarkDown的优势"></a>MarkDown的优势</h2><p>MarkDown有很多先天的优势，决定了它非常适合用来编写文档、记录笔记、撰写文章：  </p>
<ul>
<li>首先，MarkDown是 <strong>纯文本</strong> ，这意味着我们可以使用任何自已喜欢的文本编辑器来进行写作，例如vi/emacs/SublimeText/Atom/VsCode/记事本/EditPlus/UltraEdit等等。  </li>
<li>然后，MarkDown在纯文本的基础上，加入某些极其简单标记，例如用#表示一级标题，##表示二级标题等。相比起HTML，要简单的多，不会对文章内容造成过多的入侵。  </li>
<li>虽然没有官方机构，但MarkDown目前已经是事实上的标准，而且已经非常流行，在GitHub等网站中有很好的应用。  </li>
<li>市面上目前有许多优秀的MarkDown编辑器（或插件），可以提供更优雅、更舒适的写作体验。   </li>
<li>MarkDown很容易导出为HTML或PDF格式，而且大多数工具都可以提供自定义的样式。  </li>
</ul>
<h2 id="MarkDown语法速成"><a href="#MarkDown语法速成" class="headerlink" title="MarkDown语法速成"></a>MarkDown语法速成</h2><p>MarkDown语法非常简单，下面列出一些基本的标记：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">标题:  </span><br><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br><span class="line"></span><br><span class="line">文字样式：  </span><br><span class="line">**用两个星号标记起来，表示加粗**</span><br><span class="line">*一个星号，表示斜体*</span><br><span class="line">~~这样子表示删除线~~</span><br><span class="line"></span><br><span class="line">插入链接：  </span><br><span class="line">[链接名称](http:&#x2F;&#x2F;url.com&#x2F;)</span><br><span class="line"></span><br><span class="line">邮箱链接:  </span><br><span class="line">&lt;myname@example.com&gt;</span><br><span class="line"></span><br><span class="line">插入图片：  </span><br><span class="line">![图片的信息，可为空](这里是图片的url，可以是本地路径，也可以是远程URL)</span><br><span class="line"></span><br><span class="line">无序列表:  </span><br><span class="line">-   Red</span><br><span class="line">-   Green</span><br><span class="line">-   Blue</span><br><span class="line"></span><br><span class="line">有序列表：  </span><br><span class="line">1.  Bird</span><br><span class="line">2.  McHale</span><br><span class="line">3.  Parish</span><br><span class="line"></span><br><span class="line">内容引用：  </span><br><span class="line">&gt; 你</span><br><span class="line">&gt; 一会看我</span><br><span class="line">&gt; 一会看云</span><br><span class="line">&gt;  我觉得</span><br><span class="line">&gt;  你看我时很远</span><br><span class="line">&gt;  你看云时很近</span><br><span class="line"></span><br><span class="line">分割线：  </span><br><span class="line">&#96;-&#96;加上空格组成，三个以上</span><br><span class="line">- - - - - -</span><br><span class="line"></span><br><span class="line">代码高亮：  </span><br><span class="line">使用3个连续的&#96;，将代码内容包起来</span><br><span class="line">&#96; &#96; &#96;</span><br><span class="line">s &#x3D; &#39;hello world&#39;</span><br><span class="line">&#96; &#96; &#96;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="选择适合自已的编辑器"><a href="#选择适合自已的编辑器" class="headerlink" title="选择适合自已的编辑器"></a>选择适合自已的编辑器</h2><p>MarkDown不需要专门工具就可以编写，任何纯文本编辑器都可以胜任。但选择一款适合自已的工具可以提供代码高亮，实时预览，自定义主题，PDF导出等高级功能，极大的提升我们的写作体验。<br>以下列出一些比较热门的工具：  </p>
<p><strong>全平台：</strong><br><a target="_blank" rel="noopener" href="https://atom.io/">Atom</a>  不用过多介绍了，GitHub出品，被称为是新时代的文本编辑器，Emacs的精神继承者。通过非富的插件，很好的支持MarkDown，并提供了无限的可能性。<br><a target="_blank" rel="noopener" href="https://www.sublimetext.com/3">Sublime Text 3</a>  更不用介绍了，同样是利用插件支持。<br><a target="_blank" rel="noopener" href="http://markeditor.com/app/markeditor">MarkEditor</a>  商业软件，使用Electron写的跨平台应用。功能强大，缺点是启动速度较慢。  </p>
<p><strong>Mac平台：</strong><br><a target="_blank" rel="noopener" href="http://zh.mweb.im/">Mweb</a>  商业软件，作者是国人。<br><a target="_blank" rel="noopener" href="http://25.io/mou/">Mou</a>  商业软件，Mac下老牌的编辑器了。<br><a target="_blank" rel="noopener" href="http://macdown.uranusjr.com/">MacDown</a>    功能与Mou基本相同，免费使用。<br><a target="_blank" rel="noopener" href="http://www.typora.io/">Typora</a>  所见即所得的编辑器，输入MarkDown标记后会立刻渲染出结果。  </p>
<p><strong>Win平台：</strong><br><a target="_blank" rel="noopener" href="http://markdownpad.com/">MarkdownPad</a>  Win下的工具比较少，这是个不错的。  </p>
<p>目前笔者常用的是Atom，跨平台，可以很好在工作在macOS和Ubuntu上。另外因为是通用型的编辑器，且插件非富，不仅限于写MarkDown，其它工作也可以胜任。<br>上面提到的工具各有特色，可以都试用一下再选一款适合自已的。  </p>
<h2 id="使用七牛云保存图片"><a href="#使用七牛云保存图片" class="headerlink" title="使用七牛云保存图片"></a>使用七牛云保存图片</h2><p>因为MarkDown是纯文本格式，所以决定了它不可能像Microsoft Word那样内嵌图片。<br>虽然在平时使用MarkDown做个人知识记录的过程中，是极少使用图片的。但如果要撰写给别人看的博客、教程一类的文档，有一些图片总是好的。<br>MarkDown可以使用本地图片，也可以使用URL远程图片。  </p>
<p>不推荐使用本地图片，虽然图片保存在本地比扔在图床上更”安全”，丢失的风险更小，但本地散乱图片会增加我们文件夹的容量，增加文档管理的难度。而且包含本地图片的文章要发布到博客上时，通常需要一张张手工上传图片，费时费力。<br>所以选择一个靠谱的图床，将图片上传后，以URL的方式嵌入MarkDown是最佳选择。鉴于国内的网络环境，以及前一段时间各大云存储厂商的所做所为，国内靠谱的图床确实不多，这里只推荐 <a target="_blank" rel="noopener" href="http://www.qiniu.com/">七牛云</a>。<br>七牛云的CEO是许式伟，曾是金山WPS2005的首席架构师，大神级的人物，所以七牛云的技术方面我们不用过多担心。重度用户可以适当付费支持一下，让七牛云良性的发展下去。<br>七牛云不仅仅是图片存储这么简单，具体的特性不一一介绍了，注册后可以慢慢在官网上看文档。  </p>
<h2 id="使用iPic快速上传图片"><a href="#使用iPic快速上传图片" class="headerlink" title="使用iPic快速上传图片"></a>使用iPic快速上传图片</h2><p>解决了图床的问题，再来看一下如何使用工具快速将图片上传，并获取生成的URL。<br>因为每插入一张图片，都要找开网站，点击上传按钮，找到存在本地磁盘上的图片，点击确定，成功后然后再把URL复制下来，实在是很繁琐。<br>这里推荐一个Mac下的小工具 <a target="_blank" rel="noopener" href="https://toolinbox.net/iPic/">iPic</a> ，下面是一个演示动画：<br><a target="_blank" rel="noopener" href="https://ww2.sinaimg.cn/large/006tNc79gw1fah02zweq2g30j60as7wh.gif">https://ww2.sinaimg.cn/large/006tNc79gw1fah02zweq2g30j60as7wh.gif</a><br>除了拖拽，还有更快捷的操作方式，只要选中本地图片或者复制网页中的图片，然后按下Command+U快捷键就可自动上传并获取URL。</p>
<h2 id="使用坚果云保存文档并同步"><a href="#使用坚果云保存文档并同步" class="headerlink" title="使用坚果云保存文档并同步"></a>使用坚果云保存文档并同步</h2><p>MarkDown文档写好了，保存在本地。一切看上去都很美好，但接下来，我们又有了更多的需求：  </p>
<ol>
<li>重要的文档，特别是我们辛辛苦苦多年积累下来的知识，只保存在本地是不安全的。不要把鸡蛋放在同一个篮子里，要把它备份到云端。  </li>
<li>要实现多设备间的同步，这样在手机上、iPad上、家里的电脑上可以随时查阅、修改。  </li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.jianguoyun.com/">坚果云</a> 是国内一款非常类似于DropBox的云存储应用，它提供了 <strong>全平台</strong> 的非常 <strong>快速</strong> 且 <strong>稳定</strong> 的 <strong>增量同步</strong> 功能。<br>坚果云可以说是国内硕果仅存的一家了，它的增量同步在国内做的是最好的，与百度云等不同，它专注于”同步”，而不是电影等大文件的存储。<br>坚果云的客户端做的也是非常用心，Linux下可以全功能完美使用。手机和iPad上的APP做的也不错。希望坚果云好好存活下去。<br>坚果云的使用非常简单，这里有一个视频教程：<br><a target="_blank" rel="noopener" href="http://help.jianguoyun.com/?p=1964">视频教程链接</a>  </p>
<h2 id="为什么不直接使用云笔记"><a href="#为什么不直接使用云笔记" class="headerlink" title="为什么不直接使用云笔记"></a>为什么不直接使用云笔记</h2><p>目前市面上有非常多的跨平台的云笔记工具可以做到上面的事情，而且可能做的更好。 例如为知笔记、有道云笔记、EverNote、EssentialPIM等，另外还有一些后起之秀。<br>为什么还要使用 MarkDown + 坚果云 这样看上去略显繁琐的组合？  </p>
<ul>
<li>我需要用纯文的方式来管理知识<br>MarkDown相对来说比较”单纯”，而且又有表达”样式”的能力。举个例子，就像我们写代码，当然是要保存”源码”，而不是编译好的”二进制文件”。<br>我们对纯文本有绝对的控制能力，纯文本方便检索，更重要的是方便日后的加工，可以导出PDF、HTML，可以分享发布到博客和专栏。    </li>
<li>我需要一个能随时替换掉的云服务<br>云服务并不可靠，目前大部分国外的服务已经被封锁，国内的因为没有良好的盈利模式，也纷纷关闭，所以不要重度依赖云。既然MarkDown文档首先保存在本地，掌握在自已手中，这也就意味着我可以使用任何云同步服务，不仅仅是坚果云，还可以是OneDrive、DropBox、iCloud，甚至是自已在VPS上搭建的私有Git。</li>
<li>我为什么抛弃了云笔记软件<br>之前使用过的工具中，为知笔记是我最喜爱的（个人认为比EverNote做的要更好）。但它也是有一些缺点的，例如虽然支持MarkDown编写，但本质上还是会保存成HTML富文本。另外它的Mac版做的不如Win版优秀，Linux版也不友好。<br>另外，使用第三方的工具，所有数据保存在云端，在本地没有原始档的备份，会让人有一种深深的”不安感”。再加上很多工具不提供”导出”功能，这意味着我们一旦使用某个工具，就要一直用下去，谁也无法保证5年后这个厂家还能不能存活下来，继续为我们提供服务。  </li>
<li>个人知识管理，不是简单的将文档编写并保存<br>接下来，我们会对它进行搜索，加工，导出，分享，而这正是MarkDown的优势所在。  </li>
</ul>
<p>基于以上几点，我最终选择了使用 MarkDown + 坚果云 这样的组合进行个人知识管理，并准备长期使用下去。  </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://blog.bluexiii.com/201702/%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BAPython3%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="BlueXIII">
      <meta itemprop="description" content="IT技术类文章、笔记分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlueXIII's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/201702/%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BAPython3%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">内网环境下Python3应用部署</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-04-01 16:05:27" itemprop="dateCreated datePublished" datetime="2017-04-01T16:05:27+08:00">2017-04-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-06 15:48:21" itemprop="dateModified" datetime="2018-11-06T15:48:21+08:00">2018-11-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>最近在用Python写一些东西，各种第三方库好用极了，写起来也是非常酸爽，但生产环境部署上却略有些繁琐。<br>主要原因是公司的生产环境主机，大都是在内网中的，无法直连Internet，首先要花点力气搞定网络连接问题。<br>另外操作系统也基本上是RedHat，只预装了Python2.7，yum源中也没有3.X，只能通过源码编译的方式安装。如果是Debian系的，就不会这么麻烦了。  </p>
<h2 id="HTTP代理服务器搭建"><a href="#HTTP代理服务器搭建" class="headerlink" title="HTTP代理服务器搭建"></a>HTTP代理服务器搭建</h2><p>要搞定网络连接，最简单的办法还是找一台能出得去的主机，搭一个HTTP代理服务。<br>这里我选择了srelay+polipo的组合。Srelay用于搭建Socks5代理，Polipo用于将Socks5端口转为HTTP端口。<br>PS：当然，还可以使用redsocks+polipo的组合，直接默翻墙，使用yum时可以快很多。  </p>
<h3 id="使用srelay搭建简易Socks5代理"><a href="#使用srelay搭建简易Socks5代理" class="headerlink" title="使用srelay搭建简易Socks5代理"></a>使用srelay搭建简易Socks5代理</h3><p>我们先找一台可以直连外网的主机，注意要新建一个用户，不要以root直接操作。  </p>
<p>官网地址：<br><a target="_blank" rel="noopener" href="http://socks-relay.sourceforge.net/">http://socks-relay.sourceforge.net</a><br>下载<code>srelay-0.4.8b6.tar.gz</code></p>
<p>解压后直接<code>make</code>即可，将编译出的二进制文件srelay随便找一个目录扔进去</p>
<p>启动：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;srelay -i xxx.xxx.xxx.xxx:31080  </span><br></pre></td></tr></table></figure>
<p>无须配置，直接在启动时直接绑定IP+端口，注意IP一定要绑定内网的那个。</p>
<h3 id="使用polipo将Socks5代理转为Http代理"><a href="#使用polipo将Socks5代理转为Http代理" class="headerlink" title="使用polipo将Socks5代理转为Http代理"></a>使用polipo将Socks5代理转为Http代理</h3><p>下载地址：<br><a target="_blank" rel="noopener" href="https://www.irif.fr/~jch/software/polipo/polipo.html">https://www.irif.fr/~jch/software/polipo/polipo.html</a>  </p>
<p>解压后，修改一下Makefile，将PREFIX改为实际安装目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vi Makefile</span><br><span class="line">PREFIX &#x3D; &#x2F;path&#x2F;to&#x2F;your&#x2F;app</span><br><span class="line">BINDIR &#x3D; $(PREFIX)&#x2F;bin</span><br><span class="line">MANDIR &#x3D; $(PREFIX)&#x2F;man</span><br><span class="line">INFODIR &#x3D; $(PREFIX)&#x2F;info</span><br><span class="line">LOCAL_ROOT &#x3D; $(PREFIX)&#x2F;www</span><br><span class="line">DISK_CACHE_ROOT &#x3D; $(PREFIX)&#x2F;cache</span><br></pre></td></tr></table></figure>
<p>然后直接<code>make &amp;&amp; make install</code>即可</p>
<p>新建一个config文件  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi config</span><br><span class="line">socksParentProxy &#x3D; &quot;xxx.xxx.xxx.xxx:31080&quot;</span><br><span class="line">socksProxyType &#x3D; socks5</span><br><span class="line">proxyAddress &#x3D; &quot;0.0.0.0&quot;</span><br><span class="line">proxyPort &#x3D; 31081</span><br></pre></td></tr></table></figure>
<p>其中socksParentProxy是Socks的IP+端口，proxyPort是新开的HTTP端口</p>
<p>启动：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup .&#x2F;polipo -c config</span><br></pre></td></tr></table></figure>

<h2 id="环境变量设置"><a href="#环境变量设置" class="headerlink" title="环境变量设置"></a>环境变量设置</h2><p>现在回到Python3所在的主机，设置一个http_proxy环境变量，指向刚才所搭建的IP:端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy&#x3D;&quot;http:&#x2F;&#x2F;xxx.xxx.xxx.xxx:31081&quot;</span><br></pre></td></tr></table></figure>
<p>这时wget、yum等已经可以正常使用了</p>
<h2 id="配置yum使用163的源（可选）"><a href="#配置yum使用163的源（可选）" class="headerlink" title="配置yum使用163的源（可选）"></a>配置yum使用163的源（可选）</h2><p>有时可能需要用yum安装一些依赖，配置成163的源会速度快一些  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;centos&#x2F;6&#x2F;os&#x2F;x86_64&#x2F;Packages&#x2F;python-iniparse-0.3.1-2.1.el6.noarch.rpm</span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;centos&#x2F;6&#x2F;os&#x2F;x86_64&#x2F;Packages&#x2F;yum-metadata-parser-1.1.2-16.el6.x86_64.rpm</span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;centos&#x2F;6&#x2F;os&#x2F;x86_64&#x2F;Packages&#x2F;python-urlgrabber-3.9.1-11.el6.noarch.rpm</span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;centos&#x2F;6&#x2F;os&#x2F;x86_64&#x2F;Packages&#x2F;yum-3.2.29-73.el6.centos.noarch.rpm</span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;centos&#x2F;6&#x2F;os&#x2F;x86_64&#x2F;Packages&#x2F;yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm\</span><br><span class="line"></span><br><span class="line">rpm -qa | grep yum | xargs rpm -e --nodeps</span><br><span class="line">rpm -ivh python-iniparse-0.3.1-2.1.el6.noarch.rpm</span><br><span class="line">rpm -ivh yum-metadata-parser-1.1.2-16.el6.x86_64.rpm</span><br><span class="line">rpm -ivh python-urlgrabber-3.9.1-11.el6.noarch.rpm --force</span><br><span class="line">rpm -ivh yum-3.2.29-73.el6.centos.noarch.rpm yum-plugin-fastestmirror-1.1.30-37.el6.noarch.rpm</span><br><span class="line"></span><br><span class="line">wget http:&#x2F;&#x2F;mirrors.163.com&#x2F;.help&#x2F;CentOS6-Base-163.repo</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure>
<h2 id="源码方式安装python3"><a href="#源码方式安装python3" class="headerlink" title="源码方式安装python3"></a>源码方式安装python3</h2><p>现在开始，万事俱备，可以编译安装python了。需要使用root权限操作。  </p>
<p>首先，在官网下载最新的3.6源码：<br><a target="_blank" rel="noopener" href="https://www.python.org/ftp/python/3.6.0/Python-3.6.0.tgz">https://www.python.org/ftp/python/3.6.0/Python-3.6.0.tgz</a></p>
<p>安装过程没有什么特别的，缺少依赖时可以直接yum安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.6.0&#x2F;Python-3.6.0.tgz</span><br><span class="line">tar -zxcf Python-3.6.0.tgz</span><br><span class="line">.&#x2F;configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>源码方式安装完成后，已经是包含pip3的了，不用再单独安装了。  </p>
<h2 id="让pip走代理"><a href="#让pip走代理" class="headerlink" title="让pip走代理"></a>让pip走代理</h2><p>pip3可以通过使用<code>--proxy</code>参数来走代理，在这里我们为了方便，直接建一个alias，以后使用pip时，就不需要再添加参数了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias pip3&#x3D;&quot;pip3 --proxy 134.32.32.13:31081&quot;</span><br><span class="line">export http_proxy&#x3D;134.32.32.13:31081</span><br><span class="line">export https_proxy&#x3D;134.32.32.13:31081</span><br></pre></td></tr></table></figure>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><p>大部分依赖可以直接通过pip3安装：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip3 install requests</span><br><span class="line">pip3 install beautifulsoup4</span><br><span class="line">pip3 install mysql-connector</span><br><span class="line">pip3 install fdfs_client-py</span><br></pre></td></tr></table></figure>
<p>某些模块，比如FastDFS客户端，不能直接使用pip3安装，需要下载源码后并手工修改一些代码，操作过程大致如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;jefforeilly&#x2F;fdfs_client-py.git</span><br><span class="line">cd dfs_client-py</span><br><span class="line">vi .&#x2F;fdfs_client&#x2F;storage_client.py</span><br><span class="line">将第12行 from fdfs_client.sendfile import * 注释掉</span><br><span class="line">python3 setup.py install</span><br></pre></td></tr></table></figure>
<p>至此，环境搭建完毕，可以将python代码扔上去跑起来了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/14/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">BlueXIII</p>
  <div class="site-description" itemprop="description">IT技术类文章、笔记分享</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xiiiblue" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiiiblue" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/bluexiii" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;bluexiii" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">鲁ICP备18050487号-1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BlueXIII</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
